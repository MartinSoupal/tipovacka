<div
  *ngIf="leagues.length > 1"
  class="flex mt-8 gap-2">
  <button
    (click)="addLeagueToFilter(league)"
    *ngFor="let league of leagues"
    [ngClass]="{
        'border-transparent': !isLeagueInFilter[league],
        'border-gray-950': isLeagueInFilter[league]
      }"
    class="badge flex items-center gap-2 bg-gray-100 border-[1px]"
  >
    <img
      [alt]="league"
      class="h-4 w-auto"
      src="assets/images/{{league}}.png"
      srcset="assets/images/{{league}}.png">
    <span
      *ngIf="isLeagueInFilter[league]"
      class="material-icons md-12">close</span>
  </button>
</div>
<div class="grid grid-cols-1 w-full gap-y-8 mt-8">
  <ng-container *ngFor="let match of matches; let i = index">
    <div
      *ngIf="!leaguesFilter.length || isLeagueInFilter[match.league]"
      class="grid grid-cols-1 w-full gap-y-8"
    >
      <div
        *ngIf="i === 0 ||
        match.datetime > matches[i-1].datetime ||
        match.league !== matches[i-1].league ||
        match.stage !== matches[i-1].stage ||
        match.round !== matches[i-1].round"
        [ngClass]="{
          'mt-8': i > 0
        }"
        class="grid grid-cols-3 gap-2 text-xs text-gray-500 justify-items-center place-items-center"
      >
        <div class="text-gray-950 font-medium">{{('ROUND.' + match.round) | transloco}}</div>
        <div class="grid grid-cols-1 gap-1 justify-items-center">
          <img
            [alt]="match.league"
            class="h-8 w-auto"
            src="assets/images/{{match.league}}.png"
            srcset="assets/images/{{match.league}}.png">
          <div class="text-xxs">{{match.stage ? (('STAGE.' + match.stage) | transloco) : ''}}</div>
        </div>
        <div>{{match.datetime | datetimeFormatBy}}</div>
      </div>
      <app-match
        [data]="match"
        [votes]="votes"/>
    </div>
  </ng-container>
</div>
