<header>
  <h1>{{ 'USER_LEAGUES_OVERVIEW.TITLE' | transloco }}</h1>
</header>
<div class="flex flex-col gap-12">
  <div
    *ngFor="let userLeague of ((dataService.userLeagues$ | async) || []) | sortBy: 'name'"
    class="flex flex-col gap-2"
  >
    <div>
      <div class="flex gap-2 items-center">
        <h2 class="truncate">
          {{ userLeague.name }}
        </h2>
        <span
          *ngIf="userLeague.isAdmin"
          class="material-icons"
        >admin_panel_settings</span>
      </div>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-5 gap-2">
      <button
        (click)="chooseUserLeague(userLeague)"
        class="btn btn-primary col-span-2 md:col-span-1"
      >
        <span class="material-icons md-18">filter_alt</span>
        {{"USER_LEAGUES_OVERVIEW.SELECT" | transloco}}
      </button>
      <button
        (click)="invite(userLeague.id)"
        class="btn btn-secondary"
      >
        <span class="material-icons md-18">ios_share</span>
        {{"USER_LEAGUES_OVERVIEW.INVITE" | transloco}}
      </button>
      <button
        (click)="leave(userLeague.id)"
        *ngIf="userLeague.isUser"
        class="btn btn-secondary"
      >
        <span class="material-icons md-18">logout</span>
        {{"USER_LEAGUES_OVERVIEW.LEAVE" | transloco}}
      </button>
      <button
        (click)="openUsersInUserLeagueModal(userLeague)"
        *ngIf="userLeague.isAdmin"
        class="btn btn-secondary"
      >
        <span class="material-icons md-18">group</span>
        {{"USER_LEAGUES_OVERVIEW.USERS" | transloco}}
      </button>
      <button
        (click)="deleteUserLeague(userLeague.id)"
        *ngIf="userLeague.isAdmin"
        class="btn btn-critical"
      >
        <span class="material-icons md-18">delete_forever</span>
        {{"USER_LEAGUES_OVERVIEW.DELETE" | transloco}}
      </button>
    </div>
  </div>
  <button
    (click)="chooseUserLeague()"
    *ngIf="dataService.selectedUserLeague$ | async"
    class="btn btn-secondary flex justify-between"
  >
    {{ 'USER_LEAGUES_OVERVIEW.SHOW_ALL' | transloco }}
    <span class="material-icons">close</span>
  </button>
  <button
    (click)="openCreateUserLeagueModal()"
    class="btn btn-secondary flex justify-between mt-8"
  >
    {{ 'CREATE_USER_LEAGUE_BUTTON' | transloco }}
    <span class="material-icons">add</span>
  </button>
</div>
<footer>
  <button
    (click)="ref.close()"
    class="btn btn-secondary">{{ 'CANCEL_BUTTON' | transloco }}</button>
</footer>
